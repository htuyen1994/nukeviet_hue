<?php
/**
  @Project NUKEVIET 4.x
  @Block global.slide_roundabout
  @Author thaotrinh (01666848228) 
  @Createdate 09:53 8/15/2014
  @License GNU/GPL version 2 or any later version
  @Source javascript slide roundabout: github.com/fredleblanc/roundabout
  @image demo: kagaya japan(dòng tranh kỹ lạnh Nhật Bản)
 */
 if( ! defined( 'NV_MAINFILE' ) ) die( 'Stop!!!' );
if( ! nv_function_exists( 'slide_roundabout' ) )
{
	function nv_block_config_slide_roundabout( $module, $data_block, $lang_block )
	{$rangeInput=$data_block['duration']/100;$rangeView=round($data_block['duration']/1000,2);$toTopX=100-$data_block['toTop']; 
// begin convert color
$str=$data_block['background']; $str = trim(trim($str, "rgba("),")"); $mang = explode(',', $str); $r= $mang[0];$g= $mang[1];$b= $mang[2];$a= $mang[3]; function rgb2html($r, $g=-1, $b=-1) { if (is_array($r) && sizeof($r) == 3) list($r, $g, $b) = $r; $r = intval($r); $g = intval($g); $b = intval($b); $r = dechex($r<0?0:($r>255?255:$r)); $g = dechex($g<0?0:($g>255?255:$g)); $b = dechex($b<0?0:($b>255?255:$b)); $color = (strlen($r) < 2?'0':'').$r; $color .= (strlen($g) < 2?'0':'').$g; $color .= (strlen($b) < 2?'0':'').$b; return '#'.$color; } $colorHex= rgb2html($r,$g,$b); $opacity= $a*100;
// end convert color
$html = ""; $html .= '<tr><td colspan="2" class="infoGlobal"> <div class="name" onclick="document.getElementById(\'infoTj\').style.display=\'flex\';">Slide roundabout </div><div id="infoTj"><div class="contentTj"><div class="buttonSH" onclick="document.getElementById(\'infoTj\').style.display = \'none\'; ">X</div><ul><li>Project NUKEVIET 4.x</li><li>Block global slide roundabout</li><li>Author thaotrinh </li><li>Createdate 16/01/2015</li><li>License GNU/GPL version 2 or any later version</li><li>Source javascript slide roundabout: github.com/fredleblanc/roundabout</li> </ul> </div> </div> 
<style>/*CSS FrameWork globalTj v1.0 :D*/.infoGlobal { cursor: pointer; font-weight:bold;background: #eceeef!important;; text-shadow: 1px 1px 2px #FFF;} .infoGlobal .name:hover {color:#ff0000;}#infoTj {display:none;position: fixed;cursor: default;width: 100%;height: 100%;top: 0;left: 0;right: 0;bottom: 0;background: rgba(38, 68, 42, 0.61);z-index: 999;text-shadow: none;color: white;}#infoTj .contentTj{width: auto;height: auto;position: relative;margin: auto;border: 5px solid #ccc;padding: 15px;cursor: help;background: rgb(97, 129, 99);}#infoTj .contentTj a {color:#fdfdfd; text-decoration:none;}#infoTj .contentTj a:hover {color:#00ff00;} .buttonSH {cursor: pointer;background: rgb(204, 204, 204);width: 25px;height: 25px;line-height: 25px;text-align: center;border-radius: 50%;text-shadow: 1px 1px 2px #000;position: absolute;top: -15px;right: 15px;} * {-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;} .table>tbody>tr>td,table>tr td {vertical-align: baseline;}/*** dung nhieu ****/.w5 {width:5%!important} .w10 {width:10%!important} .w15 {width:15%!important} .w20 {width:20%!important} .w25 {width:25%!important} .w30 {width:30%!important} .w35 {width:35%!important} .w40 {width:40%!important} .w45 {width:45%!important} .w50 {width:50%!important} .w55 {width:55%!important} .w60 {width:60%!important}.w65 {width:65%!important} .w70 {width:70%!important} .w75 {width:75%!important}.w80 {width:80%!important}.w85 {width:85%!important} .w90 {width:90%!important} .w95 {width:95%!important} .w100 {width:100%!important}.w5 {width:5%} .w10 {width:10%} .w15 {width:15%} .w20 {width:20%} .w25 {width:25%} .w30 {width:30%} .w35 {width:35%} .w40 {width:40%} .w45 {width:45%} .w50 {width:50%} .w55 {width:55%} .w60 {width:60%}.w65 {width:65%} .w70 {width:70%}.w75 {width:75%}.w80 {width:80%}.w85 {width:85%} .w90 {width:90%}.w95 {width:95%} .w100 {width:100%} .w50x {width:50px} .w70x {width:70px} .w90x {width:90px} .w100x {width:100px} .w150x {width:150px}.w200x {width:200px}.w250x {width:250px}.w350x {width:350px} .boxCenter {  display:-ms-flexbox;-ms-flex-pack:center;-ms-flex-align:center; display:-moz-box; -moz-box-pack:center;-moz-box-align:center; display:-webkit-box;-webkit-box-pack:center;-webkit-box-align:center; display:box;box-pack:center;box-align:center;}.hAuto {height: auto;} .h100 {height: 100%;} .wAuto {width: auto;} .wMin100x {min-width: 100px;} .wMin150x {min-width: 150px;} .wMin200x {min-width: 200px;} .wMin250x {min-width: 250px;} .wMin350x {min-width: 350px;} .wMin400x {min-width: 400px;} .wMin450x {min-width: 450px;} .wMin500x {min-width: 500px;}.wMax100x {min-width: 100px;} .wMax150x {min-width: 150px;} .wMax200x {min-width: 200px;} .wMax250x {min-width: 250px;} .wMax350x {min-width: 350px;} .wMax400x {min-width: 400px;} .wMax450x {min-width: 450px;} .wMax500x {min-width: 500px;}.marA {margin:auto;} .posR {position:relative;} .posA {position:absolute;} .displayB {display:block;} .displayIn {display:inline;} .displayIB {display:inline-block;} .displayF {display: flex;} .displayN {display:none}.oveH {overflow: hidden;}.textC *,.textC1 {text-align:center;} .textJ {text-align:justify;} .textL {text-align:left;} .textR {text-align:right;} .textW {white-space: nowrap;}.floatN {float:none} .floatL {float:left} .floatR {float:right}.left0 {left:0} .right0 {right:0}/** khac **/.border50 {border-radius: 50%;} .focus0i input:focus,.focus0 *:focus {outline: 0;}.bg input {border: 1px solid #ccc;background: rgba(255,255,255,0.9);box-shadow:inset 0 1px 1px rgba(0,0,0,0.1);} .bgView {border: 1px solid #ccc;background: rgba(255,255,255,0.9);} .bgNote {background:rgba(255,255,255,0.5);}.m2a {margin:2px auto;} .mL3x {margin-left:3px;} .mL5x {margin-left:5px;} .mL7x {margin-left:7px;} .mL10x {margin-left:10px;} .mR3x {margin-Right:3px;} .mR5x {margin-Right:5px;} .mR7x {margin-Right:7px;} .mR10x {margin-Right:10px;}.m5x {margin:5px;} .border0i input,.border0 *,.border01 {border:none!important;border-top:none!important;border-bottom:none!important;border-left:none!important;border-right:none!important;} .borderT0i input,.borderT0 *,.borderT01 {border-top:none!important;margin-top:0;} .borderB0i input,.borderB0 *,.borderB01 {border-bottom:none!important;margin-bottom:0;} .borderL0i input,.borderL0 *,.borderL01 {border-left:none!important;margin-left:0;} .borderR0i input,.borderR0 *,.borderR01 {border-right:none!important;margin-right:0;}.zIn99 {z-index:99}.m0 {margin:0;} .p0 {padding:0;} .p5x {padding:5px;} .p05x {padding:0 5px;}/*****/.-box {display:-webkit-box;-webkit-box-orient:horizontal;  -webkit-box-pack: center;-webkit-box-align: center; display: -moz-box;-moz-box-align: center;-moz-box-pack: center;  } .-boxFlex {-webkit-box-ordinal-group:1;  -webkit-box-flex: 1;-moz-box-ordinal-group:1;  -moz-box-flex: 1;} td .-box {margin:10px auto;} -boxSizB { -webkit-box-sizing: border-box; -moz-box-sizing: border-box;  box-sizing: border-box;} /******* bottomC topC rightC leftC ********/ .bottomC, .topC,.rightC, .leftC {z-index:100;overflow: visible; position: relative;/*background:transparent;border: 1px solid #ccc;-webkit-border-radius: 1px;border-radius: 1px;*/cursor: crosshair;} .bottomC:after, .bottomC:before, .topC:after, .topC:before, .rightC:after, .rightC:before, .leftC:after, .leftC:before {border: 1px solid transparent;content: " ";height: 0;width: 0;position: absolute;pointer-events: none;}/*after*/.bottomC:after, .topC:after, .rightC:after, .leftC:after {border-width: 6px;}/*before*/.bottomC:before, .topC:before, .rightC:before, .leftC:before {border-width: 7px;}/*bottomC*/.bottomC:after, .bottomC:before {left: 50%; } .bottomC:before {border-top-color: #ccc;margin-left: -7px;bottom:-13px;} .bottomC:after {border-top-color: #FFF;margin-left: -6px;bottom:-11px;}/*topC*/.topC:after, .topC:before { left: 50%; } .topC:before { border-bottom-color: #ccc;margin-left: -7px;top:-13px;} .topC:after { border-bottom-color: #FFF;margin-left: -6px;top:-11px;}/*rightC*/.rightC:after, .rightC:before {top: 50%; } .rightC:before { border-left-color: #ccc;margin-top: -7px;right:-13px;} .rightC:after { border-left-color: #FFF;margin-top: -6px;right:-11px;}/*leftC*/.leftC:after, .leftC:before {top: 50%; } .leftC:before { border-right-color: #ccc;margin-top: -7px;right: -13px;} .leftC:after { border-right-color: #FFF;margin-top: -6px;right: -11px;}/*end thaotrinh 2015/01/02 - 20h49" *//************************* begin tooltip ************************/.traE {-webkit-transition: all 2s ease;-moz-transition: all 2s ease;transition: all 2s ease;} .tooltipTj {position: relative;overflow: visible;} .tooltipTj:hover span {display:block;opacity:1;background: rgba(255,255,255,1);}/*.tooltipTj .botR,.tooltipTj .botR, .tooltipTj .topR,.tooltipTj .topR, .tooltipTj .botL,.tooltipTj .botL, .tooltipTj .topL,.tooltipTj .topL*/.tooltipTj span {display:none;opacity:0;width: auto;height:auto; position: absolute;background: rgba(255,255,255,0.0);padding: 5px;box-shadow: 0 0 5px #555;border-radius:3px;text-align:justify;white-space: pre-line;z-index:1984;-webkit-transition: all 5s ease;-moz-transition: all 5s ease;transition: all 5s ease;} .tooltipTj .botR:after,.tooltipTj .botR:before, .tooltipTj .topR:after,.tooltipTj .topR:before, .tooltipTj .botL:after,.tooltipTj .botL:before, .tooltipTj .topL:after,.tooltipTj .topL:before  {border: solid transparent;content: "";height: 0;width: 0;position: absolute;pointer-events: none;}/*right*/.tooltipTj .botR:after, .tooltipTj .botR:before, .tooltipTj .topR:after, .tooltipTj .topR:before {right: 5px;}/*left*/.tooltipTj .botL:after, .tooltipTj .botL:before, .tooltipTj .topL:after, .tooltipTj .topL:before {left: 5px;}/*after*/.tooltipTj .botR:after,.tooltipTj .botL:after,.tooltipTj .topR:after,.tooltipTj .topL:after {border-width: 8px;}/*before*/.tooltipTj .botR:before,.tooltipTj .topR:before,.tooltipTj .botL:before,.tooltipTj .topL:before {border-width: 10px;} /* botR */.tooltipTj .botR {top: 105%;right:0;}.tooltipTj .botR:after,.tooltipTj .botR:before {bottom: 100%;border-bottom-color: #B5B5B5;} .tooltipTj .botR:after {margin-right: 2px;border-bottom-color: #fff;}/* botL */.tooltipTj .botL {top: 105%;left:0;}.tooltipTj .botL:after,.tooltipTj .botL:before {bottom: 100%;border-bottom-color: #B5B5B5;} .tooltipTj .botL:after {margin-left: 2px;border-bottom-color: #fff;}/* topR */.tooltipTj .topR {bottom: 105%;right:0;}.tooltipTj .topR:after,.tooltipTj .topR:before {top: 100%;border-top-color: #B5B5B5;} .tooltipTj .topR:after {margin-right: 2px;border-top-color: #fff;}/* topL */.tooltipTj .topL {bottom: 105%;left:0;}.tooltipTj .topL:after,.tooltipTj .topL:before {top: 100%;border-top-color: #B5B5B5;} .tooltipTj .topL:after {margin-left: 2px;border-top-color: #fff;}/*******************end tooltip ********************//*********** begin range *******/ input[type="range"]:focus {outline: 0;}input[type="range"].tron {	-webkit-appearance: none;background:rgba(67, 135, 253, 0.3); width:100%;height: 5px;display: inline-block;margin:0;padding:0;cursor: crosshair;vertical-align: middle;}input[type="range"].tron::-webkit-slider-thumb {  -webkit-appearance: none;  position: relative;  top: 0px;	z-index: 1;  width: 20px;  height: 20px;  border-radius: 50%;  cursor: col-resize; box-shadow:0 0 5px #555;background: #ededed;background: -moz-linear-gradient(45deg, #ededed 0%, #f6f6f6 53%, #ffffff 100%);background: -webkit-gradient(left bottom, right top, color-stop(0%, #ededed), color-stop(53%, #f6f6f6), color-stop(100%, #ffffff));background: -webkit-linear-gradient(45deg, #ededed 0%, #f6f6f6 53%, #ffffff 100%);background: -o-linear-gradient(45deg, #ededed 0%, #f6f6f6 53%, #ffffff 100%);background: -ms-linear-gradient(45deg, #ededed 0%, #f6f6f6 53%, #ffffff 100%);background: linear-gradient(45deg, #ededed 0%, #f6f6f6 53%, #ffffff 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="#ededed", endColorstr="#ffffff", GradientType=1 );}input[type="range"].vuong {	-webkit-appearance: none; width:100%;display: inline-block;margin:0;padding:0;cursor: crosshair;vertical-align: middle;box-shadow: inset 1px 1px 3px #aaa;background: #f2f6f8;background: -moz-linear-gradient(top, #f2f6f8 0%, #f2f6f8 48%, #93a9b5 50%, #f2f6f8 52%, #f2f6f8 100%);background: -webkit-gradient(left top, left bottom, color-stop(0%, #f2f6f8), color-stop(48%, #f2f6f8), color-stop(50%, #93a9b5), color-stop(52%, #f2f6f8), color-stop(100%, #f2f6f8));background: -webkit-linear-gradient(top, #f2f6f8 0%, #f2f6f8 48%, #93a9b5 50%, #f2f6f8 52%, #f2f6f8 100%);background: -o-linear-gradient(top, #f2f6f8 0%, #f2f6f8 48%, #93a9b5 50%, #f2f6f8 52%, #f2f6f8 100%);background: -ms-linear-gradient(top, #f2f6f8 0%, #f2f6f8 48%, #93a9b5 50%, #f2f6f8 52%, #f2f6f8 100%);background: linear-gradient(to bottom, #f2f6f8 0%, #f2f6f8 48%, #93a9b5 50%, #f2f6f8 52%, #f2f6f8 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="#f2f6f8", endColorstr="#f2f6f8", GradientType=0 );}input[type="range"].vuong::-webkit-slider-thumb {  -webkit-appearance: none;  position: relative;  top: 0px;	z-index: 1;  width: 50px;  height: 30px;  border-radius:3px; cursor: col-resize; box-shadow:0 0 5px #555;background: #e2e2e2;background: -moz-linear-gradient(left, #e2e2e2 0%, #dbdbdb 50%, #d1d1d1 51%, #fefefe 100%);background: -webkit-gradient(left top, right top, color-stop(0%, #e2e2e2), color-stop(50%, #dbdbdb), color-stop(51%, #d1d1d1), color-stop(100%, #fefefe));background: -webkit-linear-gradient(left, #e2e2e2 0%, #dbdbdb 50%, #d1d1d1 51%, #fefefe 100%);background: -o-linear-gradient(left, #e2e2e2 0%, #dbdbdb 50%, #d1d1d1 51%, #fefefe 100%);background: -ms-linear-gradient(left, #e2e2e2 0%, #dbdbdb 50%, #d1d1d1 51%, #fefefe 100%);background: linear-gradient(to right, #e2e2e2 0%, #dbdbdb 50%, #d1d1d1 51%, #fefefe 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="#e2e2e2", endColorstr="#fefefe", GradientType=1 );}/*********** end range *******/input.lengthR,div.lengthR { position: absolute;top: -5px;display: inline;right: 10px;z-index: 111;padding: 3px;border-radius: 3px;border: none;background: rgba(255, 255, 255, 0.6);box-shadow: 0 0 5px 1px #ddd;text-align: center;font-size: 10px;color: #ff0000;cursor: -webkit-grabbing;font-family: cursive;font-weight: bolder;}input.lengthC,div.lengthC {position: absolute;top: 6px;display: inline;right: 10px;z-index: 111;padding: 3px;border-radius: 50%;border: none;background: rgba(255, 255, 255, 0.8);box-shadow: 0 0 5px 1px #ddd;text-align: center;font-size: 10px;color: #ff0000;cursor: -webkit-grabbing;font-family: cursive;font-weight: bolder;} .Preview {box-sizing: border-box;position: relative;line-height: 32px;display: block;height: 30px!important;border: 1px solid #ccc;background: rgba(242, 242, 242, 0.65);text-align: center;font-size: 10px;color: #000000;cursor: -webkit-grabbing;font-family: cursive;text-shadow: 0 1px 2px #fff;font-weight: bolder;} .Preview img {width:auto;height: 100%!important;display: block;margin: 0;padding: 0;}.PreviewText {line-height: 32px;text-align: center;font-size: 10px;color: #000000;font-family: cursive;text-shadow: 0 1px 2px #fff; font-weight: bolder;}.inputDiv img {width:auto;height: 100%;display: block;margin: 0;padding: 0;}img.w100 {width: 100%;height: auto;} .hInh {height: inherit;} /****** nút bấm điều khiển hướng *****/.Thaoj {position:relative; background:transparent;display:block; width:95px; height: 95px; border-radius:50%; overflow:hidden; margin:0 auto;padding:0; background:#ccc;cursor: cell;}.Thaoj input {text-align:center; width:25px;height:25px;display:block; margin:auto; border:0; outline: none;padding:0; border-radius:50%;}.Thaoj input:hover, .t1 input:focus, .t1 input:focus { border:0;    background:transparent; }.tBot {top:0;left:35px;}.tTop {bottom:0;left:35px;}.tRig {left:0;top:35px;}.tLef {right:0;top:35px;}/****/input.noStyle {margin:0; padding:0;border:0;box-shadow:none;display:inline;background:transparent;border-radius:0;position:relative;}.formControl input,.formControl .inputDiv {display: inline;width: 100%; height:30px;line-height:30px;padding:0 5px;font-size: 13px; color: #111; -webkit-box-sizing: border-box; -moz-box-sizing: border-box;  box-sizing: border-box;background-color:transparent;background-image: none;border: none; border: 1px solid #ccc;background: rgba(255,255,255,0.9);box-shadow:inset 0 1px 1px rgba(0,0,0,0.1);}.viewDemo {margin:9px 0;}#viewDemo {height:auto;margin:7px;padding:5px;} /****//*thaotrinh 01666848228*/ .rangeTj {width:200px;height:200px;box-shadow: 0 2px 3px #aaa;display: inline-block;}input.inputBg {position: absolute;width: 100%;height: 100%;background: rgba(204, 255, 196, 0.49);z-index: 1;font-size: 70px;font-family: fantasy;color: rgba(55, 116, 42, 0.67);text-align: center;text-shadow: 1px 1px 3px #FFF;}input[type="range"].rangeDemo {transform: rotate(270deg);z-index: 3;position: relative;width: 100%;height: 100%;-webkit-appearance: none;display: block;margin: 0;padding: 0;cursor: crosshair;vertical-align: middle;background: rgba(242, 242, 242,0.5);}input[type="range"].rangeDemo::-webkit-slider-thumb {-webkit-appearance: none;  position: relative;  z-index: 1111;  width: 50px;  height: 200px;  border-radius:3px;   cursor: row-resize; box-shadow: -1px 0 3px #555; background: rgba(255, 255, 255,0.8);-webkit-transition: all 1.5s ease;-moz-transition: all 1.5s ease;transition: all 1.5s ease;}.leftToRight	   input[type="range"].rangeDemo::-webkit-slider-thumb{top:-203px;}.leftToRight:hover input[type="range"].rangeDemo::-webkit-slider-thumb{top:0px;}.righrToLeft	   input[type="range"].rangeDemo::-webkit-slider-thumb{top:203px;}.righrToLeft:hover input[type="range"].rangeDemo::-webkit-slider-thumb{top:0px;}.topToBot	   input[type="range"].rangeDemo::-webkit-slider-thumb{left:200px;}.topToBot:hover input[type="range"].rangeDemo::-webkit-slider-thumb{left:0px;}.botToTop	   input[type="range"].rangeDemo::-webkit-slider-thumb{left:-200px;}.botToTop:hover input[type="range"].rangeDemo::-webkit-slider-thumb{left:0px;} /***/label.checkbox{margin:0px;}.checkbox{position:relative;display:inline-block;vertical-align:middle;width:65px;height:30px;padding:3px;background-color:#fff;border-radius:18px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.5);cursor:pointer;background-image:-webkit-linear-gradient(top,#eee,white 25px);background-image:-moz-linear-gradient(top,#eee,white 25px);background-image:-o-linear-gradient(top,#eee,white 25px);background-image:linear-gradient(to bottom,#eee,white 25px)} .checkboxInput{position:absolute;top:0;left:0;opacity:0}.checkboxLabel{position:relative;display:block;height:100%;font-size:10px;text-transform:uppercase;background:#eceeef;border-radius:inherit;box-shadow:inset 0 1px 2px rgba(0,0,0,0.12),inset 0 0 2px rgba(0,0,0,0.15);-webkit-transition:.15s ease-out;-moz-transition:.15s ease-out;-o-transition:.15s ease-out;transition:.15s ease-out;-webkit-transition-property:opacity background;-moz-transition-property:opacity background;-o-transition-property:opacity background;transition-property:opacity background} .checkboxLabel:before,.checkboxLabel:after{position:absolute;top:50%;margin-top:-.5em;line-height:1;-webkit-transition:inherit;-moz-transition:inherit;-o-transition:inherit;transition:inherit} .checkboxLabel:before{content:attr(data-off);right:11px;color:#aaa;text-shadow:0 1px rgba(255,255,255,0.5)}.checkboxLabel:after{content:attr(data-on);left:11px;color:#fff;text-shadow:0 1px rgba(0,0,0,0.2);opacity:0} .checkboxInput:checked ~ .checkboxLabel{background:#B6C8FF;box-shadow:inset 0 1px 2px rgba(0,0,0,0.15),inset 0 0 3px rgba(0,0,0,0.2)}.checkboxInput:checked ~ .checkboxLabel:before{opacity:0}.checkboxInput:checked ~ .checkboxLabel:after{opacity:1}.checkboxHandle{position:absolute;top:6px;left:6px;width:18px;height:18px;background:#fff;border-radius:50%;box-shadow:1px 1px 5px rgba(0,0,0,0.2);background-image:-webkit-linear-gradient(top,white 40%,#f0f0f0);background-image:-moz-linear-gradient(top,white 40%,#f0f0f0);background-image:-o-linear-gradient(top,white 40%,#f0f0f0);background-image:linear-gradient(to bottom,white 40%,#f0f0f0);-webkit-transition:left .15s ease-out;-moz-transition:left .15s ease-out;-o-transition:left .15s ease-out;transition:left .15s ease-out} .checkboxHandle:before{content:"";position:absolute;top:50%;left:50%;margin:-6px 0 0 -6px;width:12px;height:12px;background:#f9f9f9;border-radius:50%;box-shadow:inset 0 1px rgba(0,0,0,0.02);background-image:-webkit-linear-gradient(top,#eee,white);background-image:-moz-linear-gradient(top,#eee,white);background-image:-o-linear-gradient(top,#eee,white);background-image:linear-gradient(to bottom,#eee,white)} .checkboxInput:checked ~ .checkboxHandle{left:40px;box-shadow:-1px 1px 5px rgba(0,0,0,0.2)}.checkbox-green > .checkboxInput:checked ~ .checkboxLabel{background:#4fb845}
 </style>
				</td></tr>';
// nếu phần này chạy được js thì tốt quá, code ngắn gọn rất nhiều mà lại làm được nhiều việc.
// thật tiếc hiện tại code phần control admin phải làm lòng vòng dài dòng
 for( $i = 1; $i <30 ; ++ $i ){ $checkDisplay = ($data_block['checkDisplay'.$i]==1)? 'checked': '';$html .= '<tr><td> Item '. $i . '</td><td>
<div class="formControl -box"><div class="w50 posR mR10x"><input type="text" name="config_title' . $i . '" value="' . $data_block['title' . $i] . '" onmousemove="document.getElementById(\'lengthT' . $i . '\').innerHTML=this.value.length" oninput="document.getElementById(\'lengthT' . $i . '\').innerHTML=this.value.length"/> <div class="lengthR" id="lengthT' . $i . '"></div></div><div class="w20 posR mR10x"><input type="text" name="config_style' . $i . '" list="slide_roundabout_style" value="' . $data_block['style' . $i] . '"/><datalist id="slide_roundabout_style"><option value="fixedBot">Fixed bottom</option><option value="toBottom">top &#x2193; bottom</option><option value="toTop">bottom &#x2191; top </option><option value="toRight">left &#x2192; right</option><option value="toLeft">left &#x2190; right </option><option value="hidden"> display none </option></datalist></div><div class="-boxFlex posR mR10x"><input type="text" list="slide_roundabout_atarget" name="config_atarget' . $i . '" value="' . $data_block['atarget' . $i] . '" /><datalist id="slide_roundabout_atarget"><option value="_blank"> Opens the linked document in a new window or tab</option><option value="_top">Opens the linked document in the full body of the window</option> </datalist></div> <div class="posR"> <label class="checkbox checkbox-green"><input type="checkbox" class="checkboxInput" name="config_checkDisplay' . $i . '" value="' . $data_block['checkDisplay' . $i] . '" '.$checkDisplay.' title="Display none/block"/><span class="checkboxLabel" data-on="On" data-off="Off"></span><span class="checkboxHandle"></span></label> </div></div><div class="formControl -box"><div class="w50 mR10x"><input type="text" name="config_ahref' . $i . '" value="' . $data_block['ahref' . $i] . '"/></div><div class="rightC -boxFlex borderR0i"><input type="text" name="config_imgsrc' . $i . '" value="' . $data_block['imgsrc' . $i] . '" id="imgInput'.$i.'"oninput="document.getElementById(\'imgViewX'.$i.'\').innerHTML=\'<img src=&quot;\'+this.value+\'&quot;/>\';document.getElementById(\'imgViewH'.$i.'\').innerHTML=\'<img class=&quot;w100&quot; src=&quot;\'+this.value+\'&quot;/>\';"/></div><div class=" Preview tooltipTj borderL0"><div class="h100" id="imgViewX'.$i.'"><img src="' . $data_block['imgsrc' . $i] . '" alt="' . $data_block['title' . $i] . '"/></div><span class="botR wMin350x"><div id="imgViewH'.$i.'"><img class="w100" src="' . $data_block['imgsrc' . $i] . '" alt="' . $data_block['title' . $i] . '"/></div></span></div></div> <div class="formControl posR"> <input type="text" name="config_excerpt' . $i . '" value="' . $data_block['excerpt' . $i] . '" onmousemove="document.getElementById(\'lengthExc' . $i . '\').innerHTML=this.value.length" oninput="document.getElementById(\'lengthExc' . $i . '\').innerHTML=this.value.length" /> <div class="lengthR" id="lengthExc' . $i . '" readonly></div></div></td></tr>';}$html .='<tr><td> Background color & text color default/hover</td><td><div class="formControl -box textC focus0"><div class="-boxFlex rightC tooltipTj"><span class="topL wMin200x">Background color picker control</span><input type="color" id="colorInputT" value="'.$colorHex.'"oninput="function rgbI(x,y){return parseInt(((colorInputT.value).substring(1,7)).substring(x,y),16);}colorHexT.value=this.value;var thaoJA=\'rgba(\'+rgbI(0,2)+\',\'+rgbI(2,4)+\',\'+rgbI(4,6)+\',\'+(0.01*colorOpacityT.value).toFixed(2)+\')\'; config_backgroundT.value=thaoJA; document.getElementById(\'config_backgroundT\').style.backgroundColor=thaoJA;document.getElementById(\'viewDemo\').style.backgroundColor=thaoJA; "/></div><div class="w10 tooltipTj borderL0i borderR0i"><span class="topL wMin200x">Background color code HTML</span><input type="text" id="colorHexT" value="'.$colorHex.'" pattern="^#?([a-fA-F0-9]{6})$" oninput="function rgbH(x,y){return parseInt(((colorHexT.value).substring(1,7)).substring(x,y),16);}colorInputT.value=this.value;var thaoJB=\'rgba(\'+rgbH(0,2)+\',\'+rgbH(2,4)+\',\'+rgbH(4,6)+\',\'+(0.01*colorOpacityT.value).toFixed(2)+\')\';config_backgroundT.value=thaoJB;document.getElementById(\'config_backgroundT\').style.background=thaoJB;document.getElementById(\'viewDemo\').style.background=thaoJB;"/></div><div class="w10 tooltipTj mR10x borderL0i"><input type="number" id="colorOpacityT" value="'.$opacity.'" min="0" max="100" oninput=" function rgbO(x,y){return parseInt(((colorHexT.value).substring(1,7)).substring(x,y),16);}var thaoJC=\'rgba(\'+rgbO(0,2)+\',\'+rgbO(2,4)+\',\'+rgbO(4,6)+\',\'+(0.01*colorOpacityT.value).toFixed(2)+\')\';config_backgroundT.value=thaoJC;document.getElementById(\'config_backgroundT\').style.background=thaoJC;document.getElementById(\'viewDemo\').style.background=thaoJC;" /><span class="topR wMin250x">Background color opacity & code RGB</span><span class="botR wMin150x border0i"><input type="text" name="config_background" id="config_backgroundT" value="'.$data_block['background'].'" oninput="mang = this.value.replace(\'rgba(\',\'\').replace(\')\',\'\').split(\',\'); function rgb(x){return parseInt(mang[x].trim());} hex=\'#\' + ((1 << 24) + (rgb(0) << 16) + (rgb(1) << 8) + rgb(2)).toString(16).slice(1);colorInputT.value=hex;colorHexT.value=hex;colorOpacityT.value=parseFloat(mang[3].trim())*100; "/></span></div> <div class="w5 rightC tooltipTj"><input type="color" id="colorTitleInput" value="'.$data_block['colorTitle'].'" oninput="colorTitleHex.value=this.value;document.getElementById(\'viewDemoTitle\').style.color=this.value;"><span class="topR wMin250x">Text color Title picker control</span></div><div class="w10 tooltipTj mR10x borderL0i"> <span class="topR wMin200x">Text color Title code HTML</span><input type="text" name="config_colorTitle" id="colorTitleHex" value="'.$data_block['colorTitle'].'" pattern="^#?([a-fA-F0-9]{6})$" oninput="colorTitleInput.value=this.value;document.getElementById(\'viewDemoTitle\').style.color=this.value;"/></div><div class="w5 rightC tooltipTj"><input type="color" id="colorExcerptInput" value="'.$data_block['colorExcerpt'].'" oninput="colorExcerptHex.value=this.value;document.getElementById(\'viewDemoExcerpt\').style.color=this.value;"><span class="topR wMin200x">Text color excerpt picker control</span></div><div class="w10 tooltipTj mR10x borderL0i"> <span class="topR wMin200x">Text color excerpt code HTML</span><input type="text" name="config_colorExcerpt" id="colorExcerptHex" value="'.$data_block['colorExcerpt'].'" pattern="^#?([a-fA-F0-9]{6})$" oninput="colorExcerptInput.value=this.value;document.getElementById(\'viewDemoExcerpt\').style.color=this.value;"/></div> <div class="w5 rightC tooltipTj"><input type="color" id="colorTitleInputH" value="'.$data_block['colorTitleH'].'" oninput="colorTitleHexH.value=this.value;document.getElementById(\'viewDemoTitleH\').style.color=this.value;"><span class="topR wMin250x">Text color Title picker control - Hover</span></div><div class="w10 tooltipTj mR10x borderL0i"> <span class="topR wMin200x">Text color Title code HTML - Hover</span><input type="text" name="config_colorTitleH" id="colorTitleHexH" value="'.$data_block['colorTitleH'].'" pattern="^#?([a-fA-F0-9]{6})$" oninput="colorTitleInputH.value=this.value;document.getElementById(\'viewDemoTitleH\').style.color=this.value;"/></div><div class="w5 rightC tooltipTj"><input type="color" id="colorExcerptInputH" value="'.$data_block['colorExcerptH'].'" oninput="colorExcerptHexH.value=this.value;document.getElementById(\'viewDemoExcerptH\').style.color=this.value;"><span class="topR wMin250x">Text color excerpt picker control - Hover</span></div><div class="w10 tooltipTj borderL0i"> <span class="topR wMin250x">Text color excerpt code HTML - Hover</span><input type="text" name="config_colorExcerptH" id="colorExcerptHexH" value="'.$data_block['colorExcerptH'].'" pattern="^#?([a-fA-F0-9]{6})$" oninput="colorExcerptInputH.value=this.value;document.getElementById(\'viewDemoExcerptH\').style.color=this.value;"/></div></div><div class="topC viewDemo bgView"><style>#viewDemo{background:'.$data_block['background'].';}#viewDemoTitle{color:'.$data_block['colorTitle'].';}#viewDemoTitleH{color:'.$data_block['colorTitleH'].';}#viewDemoExcerpt{color:'.$data_block['colorExcerpt'].';}#viewDemoExcerptH{color:'.$data_block['colorExcerptH'].';}#viewDemo .demo{display:block}#viewDemo .demoH{display:none}#viewDemo:hover .demo{display:none}#viewDemo:hover .demoH{display:block}</style><div id="viewDemo"onclick="document.getElementById(\'viewDemo\').style.background=config_backgroundT.value;document.getElementById(\'viewDemoTitle\').style.color=colorTitleHex.value;document.getElementById(\'viewDemoExcerpt\').style.color=colorExcerptHex.value;document.getElementById(\'viewDemoTitleH\').style.color=colorTitleHexH.value;document.getElementById(\'viewDemoExcerptH\').style.color=colorExcerptHexH.value;"><div class=" demo"> <div class="bgNote p5x floatR">Text color demo default </div><div id="viewDemoTitle"><h3>' . $data_block['title1'] . '</h3></div> <div id="viewDemoExcerpt">' . $data_block['excerpt1'] . '</div> </div><div class=" demoH"> <div class="bgNote p5x floatR">Text color demo hover </div><div id="viewDemoTitleH"><h3>' . $data_block['title1'] . '</h3></div> <div id="viewDemoExcerptH">' . $data_block['excerpt1'] . '</div> </div></div></div></td></tr>';$html .='<tr><td>Duration </td><td><div class="textC"> <input class="tron" type="range" min="5" max="90" value="'.$rangeInput.'" id="rangeInputDuration"oninput="rangeDuration.value=parseInt(this.value)*100;rangeViewDuration.value=(parseInt(this.value)*0.1).toFixed(2);"/><div><input type="hidden" name="config_duration" id="rangeDuration" value="'.$data_block['duration'].'" /> <input class="textC noStyle w100 -boxSizB" type="text" id="rangeViewDuration" value="'.$rangeView.'" readonly/> </div></div></td></tr>';$html .='<tr><td>Distance </td><td><div class="marA boxCenter"><div class="posR border0 boxCenter rangeTj leftToRight m5x oveH"><input class="inputBg" type="text" id="rangeLR" name="config_toRight" value="'.$data_block['toRight'].'" readonly/> <input class="rangeDemo" type="range" min="0" max="100" value="'.$data_block['toRight'].'" oninput="rangeLR.value=this.value;"/> </div> <div class="posR border0 boxCenter rangeTj righrToLeft m5x oveH"><input class="inputBg" type="text" id="rangeRL" name="config_toLeft" value="'.$data_block['toLeft'].'" readonly/> <input class="rangeDemo" type="range" min="0" max="100" value="'.$data_block['toLeft'].'" oninput="rangeRL.value=this.value;"/> </div> <div class="posR border0 boxCenter rangeTj topToBot m5x oveH"><input class="inputBg" type="text" id="rangeTB" name="config_toBottom" value="'.$data_block['toBottom'].'" readonly/> <input class="rangeDemo" type="range" min="0" max="100" value="'.$data_block['toBottom'].'" oninput="rangeTB.value=this.value;"/> </div> <div class="posR border0 boxCenter rangeTj botToTop m5x oveH"><input class="inputBg" type="text" id="rangeBTv" value="'.$toTopX.'" readonly/> <input class="inputBg" type="hidden" id="rangeBT" name="config_toTop" value="'.$data_block['toTop'].'" readonly/> <input class="rangeDemo" type="range" min="0" max="100" value="'.$toTopX.'" oninput="rangeBT.value=(100-this.value);rangeBTv.value=this.value;"/> </div> </div> </td></tr>';		
return $html;}function nv_block_submit_slide_roundabout( $module, $lang_block ){global $nv_Request;$return = array();$return['error'] = array();$return['config'] = array();for( $i = 1; $i < 30; ++ $i ){$return['config']['title' . $i] = $nv_Request->get_string( 'config_title' . $i, 'post');$return['config']['style' . $i] = $nv_Request->get_string( 'config_style' . $i, 'post');$return['config']['atarget' . $i] = $nv_Request->get_string( 'config_atarget' . $i, 'post');$return['config']['checkDisplay' . $i] = $nv_Request->get_string( 'config_checkDisplay' . $i, 'post');$return['config']['ahref' . $i] = $nv_Request->get_string( 'config_ahref' . $i, 'post');$return['config']['imgsrc' . $i] = $nv_Request->get_string( 'config_imgsrc' . $i, 'post');$return['config']['excerpt' . $i] = $nv_Request->get_string( 'config_excerpt' . $i, 'post');}$return['config']['background'] = $nv_Request->get_string( 'config_background', 'post');$return['config']['colorTitle'] = $nv_Request->get_string( 'config_colorTitle', 'post');$return['config']['colorExcerpt'] = $nv_Request->get_string( 'config_colorExcerpt', 'post');$return['config']['colorTitleH'] = $nv_Request->get_string( 'config_colorTitleH', 'post');$return['config']['colorExcerptH'] = $nv_Request->get_string( 'config_colorExcerptH', 'post');$return['config']['duration'] = $nv_Request->get_string( 'config_duration', 'post');$return['config']['toRight'] = $nv_Request->get_string( 'config_toRight', 'post');$return['config']['toLeft'] = $nv_Request->get_string( 'config_toLeft', 'post');$return['config']['toBottom'] = $nv_Request->get_string( 'config_toBottom', 'post');$return['config']['toTop'] = $nv_Request->get_string( 'config_toTop', 'post');return $return;}
	function slide_roundabout( $block_config )
	{global $module_info, $global_config;if( file_exists( NV_ROOTDIR . "/themes/" . $global_config['site_theme'] . "/blocks/global.slide_roundabout.tpl" ) ){$block_theme = $global_config['site_theme'];}elseif( file_exists( NV_ROOTDIR . "/themes/" . $module_info['template'] . "/blocks/global.slide_roundabout.tpl" ) ){$block_theme = $module_info['template'];}else{$block_theme = "default";} $xtpl = new XTemplate( 'global.slide_roundabout.tpl', NV_ROOTDIR . '/themes/' . $block_theme . '/blocks' );$xtpl->assign( 'TEMPLATE', $block_theme );$xtpl->assign( 'NV_BASE_SITEURL', NV_BASE_SITEURL );for( $i = 1; $i < 30; $i ++ ){if( ! empty( $block_config['title' . $i] ) && ! empty( $block_config['imgsrc' . $i] ) && ! empty( $block_config['checkDisplay' . $i] )==1 ){$xtpl->assign( 'TITLE', $block_config['title' . $i] );$xtpl->assign( 'STYLE', $block_config['style' . $i] );$xtpl->assign( 'ATARGET', $block_config['atarget' . $i] );if($block_config['ahref' . $i]=='') {$ahref='#';} else {$ahref = $block_config['ahref' . $i];}$xtpl->assign( 'AHREF', $ahref);$xtpl->assign( 'IMGSRC', $block_config['imgsrc' . $i] );$xtpl->assign( 'EXCERPT', $block_config['excerpt' . $i] ); $xtpl->parse( 'main.loop' );}}$xtpl->assign( 'BACKGROUND', $block_config['background'] );$xtpl->assign( 'COLORTITLE', $block_config['colorTitle'] ); $xtpl->assign( 'COLOREXCERPT', $block_config['colorExcerpt'] ); $xtpl->assign( 'COLORTITLEH', $block_config['colorTitleH'] ); $xtpl->assign( 'COLOREXCERPTH', $block_config['colorExcerptH'] ); $xtpl->assign( 'DURATION', $block_config['duration'] ); $xtpl->assign( 'TORIGHT', $block_config['toRight'] ); $xtpl->assign( 'TOLEFT', $block_config['toLeft'] ); $xtpl->assign( 'TOBOTTOM', $block_config['toBottom'] ); $xtpl->assign( 'TOTOP', $block_config['toTop'] ); $xtpl->parse( 'main' );return $xtpl->text( 'main' );}

}

if( defined( 'NV_SYSTEM' ) )
{
	$content = slide_roundabout( $block_config );
}

?>